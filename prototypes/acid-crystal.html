<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Acid</title>
  <link rel="shortcut icon" href="#">
  <style>
    body {
      margin: 0;
    }
  </style>
  <script type="module">
    import * as THREE from '../js/three.module.js';
    import { TrackballControls } from '../js/TrackballControls.js';
    import * as Axis from '../js/shapes/axis.js';
    import { unit, tubeMaterial, returnEndPosition} from '../js/utilities.js'
    import { AcidCrystal} from '../js/AcidCrystal.js'

    let camera, scene, renderer, controls;
    let mesh0, mesh1, mesh2, mesh3, mesh4, mesh5, mesh6, mesh7;
    let coronalTubeTop, coronalTubeBottom, saggitalTubeFront, saggitalTubeBack;
    let coronalTopRight, coronalTopLeft, coronalTopBack, coronalTopFront;
    let coronalBottomRight, coronalBottomLeft, coronalBottomBack, coronalBottomFront;
    let saggitalBackTop, saggitalBackBottom, saggitalBackLeft, saggitalBackRight;
    let saggitalFrontTop, saggitalFrontBottom, saggitalFrontLeft, saggitalFrontRight;
    let unitLength = 8;

    init();
    animate();

    function init() {
      scene = new THREE.Scene();
      camera = new THREE.PerspectiveCamera(37, window.innerWidth / window.innerHeight, 1, 3500);
      camera.position.x = 0;
      camera.position.y = 0;
      camera.position.z = 450;
      renderer = new THREE.WebGLRenderer({ antialias: true });
      renderer.setPixelRatio(window.devicePixelRatio);
      renderer.setSize(window.innerWidth, window.innerHeight);
      document.body.appendChild(renderer.domElement);
      controls = new TrackballControls(camera, renderer.domElement);
      window.addEventListener('resize', onWindowResize);

      const AC_Org = new AcidCrystal('center', 40, 'pincer', [0, 0, 0], unitLength);

      /*const AC_OrgXPos = new AcidCrystal('center', 8, 'curved_bug_walk', [unitLength*12, 0, 0], unitLength);
      const AC_Org1XNeg = new AcidCrystal('center', 8, 'curved_bug_walk', [-unitLength*12, 0, 0], unitLength);
      const AC_OrgYPos = new AcidCrystal('center', 8, 'curved_bug_walk', [0,unitLength*7.48, 0], unitLength);
      const AC_OrgYNeg = new AcidCrystal('center', 8, 'curved_bug_walk', [0,-unitLength*7.48, 0], unitLength);
      const AC_OrgXPosYPos = new AcidCrystal('center', 8, 'curved_bug_walk', [unitLength*12,unitLength*7.48, 0], unitLength);
      const AC_OrgXNegYPos = new AcidCrystal('center', 8, 'curved_bug_walk', [-unitLength*12,unitLength*7.48, 0], unitLength);
      const AC_OrgXNegYNeg = new AcidCrystal('center', 8, 'curved_bug_walk', [-unitLength*12,-unitLength*7.48, 0], unitLength);
      const AC_OrgXPosYNeg = new AcidCrystal('center', 8, 'curved_bug_walk', [unitLength*12,-unitLength*7.48, 0], unitLength);*/

      /*const AC_OrgXPosYNegDouble = new AcidCrystal('center', 8, 'curved_bug_walk', [unitLength*12,-unitLength*7.48*2, 0], unitLength);
      const AC_OrgXNueYNegDouble = new AcidCrystal('center', 8, 'curved_bug_walk', [0,-unitLength*7.48*2, 0], unitLength);
      const AC_OrgXNegYNegDouble = new AcidCrystal('center', 8, 'curved_bug_walk', [-unitLength*12,-unitLength*7.48*2, 0], unitLength);*/


      scene.add(unit);

      const axesHelper = new THREE.AxesHelper( 50 );
      scene.add( axesHelper );

      scene.background = new THREE.Color(0x000000);

      const light0 = new THREE.DirectionalLight(0xfffffff, 1);
      light0.position.set(100, 100, 100)//.normalize();
      scene.add(light0);

      const light2 = new THREE.DirectionalLight(0xfffffff, 1);
      light2.position.set(-100, -100, -100)//.normalize();
      scene.add(light2);

      const light3 = new THREE.DirectionalLight(0xfffffff, 1);
      light3.position.set(100, -100, 100)//.normalize();
      scene.add(light3);

      const light4 = new THREE.DirectionalLight(0xfffffff, 1);
      light4.position.set(-100, 100, -100)//.normalize();
      scene.add(light4);

    }

    function onWindowResize() {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    }

    function animate() {
      requestAnimationFrame(animate);
      controls.update();
      render();
      //stats.update();
    }

    //unit.rotation.z -= .3;
    //unit.rotation.y -= .3;
    unit.rotation.x += .1;

    function render() {

      const time = Date.now() * 0.002;

      //unit.rotation.x = time * .10;
      //unit.rotation.y = time * .2;
      //unit.rotation.z = time * .05;

      renderer.render(scene, camera);
    }



    // Linking

      /*const AC_X_Pos = new AcidCrystal('X_Pos',6,[(2*unitLength)+(2*unitLength*Math.sqrt(3)),0,0],unitLength);
      const AC_X_Neg = new AcidCrystal('X_Neg',6,[(-2*unitLength)+(-2*unitLength*Math.sqrt(3)),0,0],unitLength);*/

      /*const AC_Z_Neg = new AcidCrystal('Z_Neg',6,[0,0,(-2*unitLength)+(-2*unitLength*Math.sqrt(3))],unitLength);
      const AC_Z_Pos = new AcidCrystal('Z_Pos',6,[0,0,(2*unitLength)+(2*unitLength*Math.sqrt(3))],unitLength);*/

      /*const AC_Y_Pos = new AcidCrystal('Y_Pos',6,[0,4.5*unitLength,0],unitLength);
      const AC_Y_Neg = new AcidCrystal('Y_Neg',6,[0,-4.5*unitLength,0],unitLength);*/


  </script>
</head>

<body>
</body>

</html>

