<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Acid</title>
  <link rel="shortcut icon" href="#">
  <style>
    body {
      margin: 0;
    }
  </style>
  <script type="module">
    import * as THREE from '../js/three.module.js';
    import { TrackballControls } from '../js/TrackballControls.js';
    import * as Axis from '../js/shapes/axis.js';

    let camera, scene, renderer, controls;
    let mesh0, mesh1, mesh2, mesh3, mesh4, mesh5, mesh6, mesh7;
    let /*transverseTubeRight,*/ transverseTubeLeft, coronalTubeTop, coronalTubeBottom, saggitalTubeFront, saggitalTubeBack;
    let coronalTopRight, coronalTopLeft, coronalTopBack, coronalTopFront;
    let coronalBottomRight, coronalBottomLeft, coronalBottomBack, coronalBottomFront;
    let saggitalBackTop, saggitalBackBottom, saggitalBackLeft, saggitalBackRight;
    let saggitalFrontTop, saggitalFrontBottom, saggitalFrontLeft, saggitalFrontRight;
    let transverseLeftTop, transverseLeftBottom, transverseLeftBack, transverseLeftFront;
    let transverseRightTop, transverseRightBottom, transverseRightBack, transverseRightFront;
    let unit;
    let unitLength = 8;

    init();
    animate();

    function init() {
      scene = new THREE.Scene();
      camera = new THREE.PerspectiveCamera(27, window.innerWidth / window.innerHeight, 1, 3500);
      camera.position.x = 14;
      camera.position.y = 20;
      camera.position.z = 85;

      renderer = new THREE.WebGLRenderer({ antialias: true });
      renderer.setPixelRatio(window.devicePixelRatio);
      renderer.setSize(window.innerWidth, window.innerHeight);

      document.body.appendChild(renderer.domElement);
      controls = new TrackballControls(camera, renderer.domElement);

      /*import { OrbitControls } from '../js/OrbitControls.js';
      controls.autoRotate = true; 
      const controls = new OrbitControls(camera, renderer.domElement);*/

      window.addEventListener('resize', onWindowResize);

      unit = new THREE.Group();

      const tubeMaterial = new THREE.MeshPhongMaterial({
        //color: 0xFC3EC1,
        color: 0xffffff,
        shininess: 150,
        side: THREE.DoubleSide,
        //emissive: 'red'
      });

      function addSegment(name, start, end) {

        const coordinates = [];
        coordinates.push(new THREE.Vector3(start[0],start[1],start[2]));
        coordinates.push(new THREE.Vector3(end[0],end[1],end[2]));
        const curve = new THREE.CatmullRomCurve3(coordinates);

        const geometry = new THREE.TubeGeometry(curve, 64, .25, 16, false)
        globalThis[name] = new THREE.Mesh(geometry, tubeMaterial);
        console.log(transverseTubeRight);
        unit.add(globalThis[name]);
      }

      addSegment("transverseTubeRight", [0, 0, 0], [unitLength, 0, 0])

      // Transverse 

      // Right

      /*const transverseTubeRightPoints = [];
      transverseTubeRightPoints.push(new THREE.Vector3(0, 0, 0));
      transverseTubeRightPoints.push(new THREE.Vector3(unitLength, 0, 0));

      const transverseTubeRightCurve = new THREE.CatmullRomCurve3(transverseTubeRightPoints);
      const transverseTubeRightGeometry = new THREE.TubeGeometry(transverseTubeRightCurve, 64, .25, 16, false)
      transverseTubeRight = new THREE.Mesh(transverseTubeRightGeometry, tubeMaterial);
      unit.add(transverseTubeRight);*/

      // Transverse Right Top
      const transverseRightTopPoints = [];
      transverseRightTopPoints.push(new THREE.Vector3(unitLength, 0, 0));
      transverseRightTopPoints.push(new THREE.Vector3(2 * unitLength, unitLength, 0));
      const transverseRightTopCurve = new THREE.CatmullRomCurve3(transverseRightTopPoints);
      const transverseRightTopGeometry = new THREE.TubeGeometry(transverseRightTopCurve, 64, .25, 16, false)
      transverseRightTop = new THREE.Mesh(transverseRightTopGeometry, tubeMaterial);
      unit.add(transverseRightTop);

      // Tranverse Right Bottom
      const transverseRightBottomPoints = [];
      transverseRightBottomPoints.push(new THREE.Vector3(unitLength, 0, 0));
      transverseRightBottomPoints.push(new THREE.Vector3(2 * unitLength, -unitLength, 0));
      const transverseRightBottomCurve = new THREE.CatmullRomCurve3(transverseRightBottomPoints);
      const transverseRightBottomGeometry = new THREE.TubeGeometry(transverseRightBottomCurve, 64, .25, 16, false)
      transverseRightBottom = new THREE.Mesh(transverseRightBottomGeometry, tubeMaterial);
      unit.add(transverseRightBottom);

      // Tranverse Right Front
      const transverseRightFrontPoints = [];
      transverseRightFrontPoints.push(new THREE.Vector3(unitLength, 0, 0));
      transverseRightFrontPoints.push(new THREE.Vector3(2 * unitLength, 0, -unitLength));
      const transverseRightFrontCurve = new THREE.CatmullRomCurve3(transverseRightFrontPoints);
      const transverseRightFrontGeometry = new THREE.TubeGeometry(transverseRightFrontCurve, 64, .25, 16, false)
      transverseRightFront = new THREE.Mesh(transverseRightFrontGeometry, tubeMaterial);
      unit.add(transverseRightFront);

      // Tranverse Right Back
      const transverseRightBackPoints = [];
      transverseRightBackPoints.push(new THREE.Vector3(unitLength, 0, 0));
      transverseRightBackPoints.push(new THREE.Vector3(2 * unitLength, 0, unitLength));
      const transverseRightBackCurve = new THREE.CatmullRomCurve3(transverseRightBackPoints);
      const transverseRightBackGeometry = new THREE.TubeGeometry(transverseRightBackCurve, 64, .25, 16, false)
      transverseRightBack = new THREE.Mesh(transverseRightBackGeometry, tubeMaterial);
      unit.add(transverseRightBack);

      // Left

      const transverseTubeLeftPoints = [];
      transverseTubeLeftPoints.push(new THREE.Vector3(0, 0, 0));
      transverseTubeLeftPoints.push(new THREE.Vector3(-unitLength, 0, 0));
      const transverseTubeLeftCurve = new THREE.CatmullRomCurve3(transverseTubeLeftPoints);
      const transverseTubeLeftGeometry = new THREE.TubeGeometry(transverseTubeLeftCurve, 64, .25, 16, false)
      transverseTubeLeft = new THREE.Mesh(transverseTubeLeftGeometry, tubeMaterial);
      unit.add(transverseTubeLeft);

      // Transverse Left Top
      const transverseLeftTopPoints = [];
      transverseLeftTopPoints.push(new THREE.Vector3(-unitLength, 0, 0));
      transverseLeftTopPoints.push(new THREE.Vector3(-2 * unitLength, unitLength, 0));
      const transverseLeftTopCurve = new THREE.CatmullRomCurve3(transverseLeftTopPoints);
      const transverseLeftTopGeometry = new THREE.TubeGeometry(transverseLeftTopCurve, 64, .25, 16, false)
      transverseLeftTop = new THREE.Mesh(transverseLeftTopGeometry, tubeMaterial);
      unit.add(transverseLeftTop);

      // Tranverse Left Bottom
      const transverseLeftBottomPoints = [];
      transverseLeftBottomPoints.push(new THREE.Vector3(-unitLength, 0, 0));
      transverseLeftBottomPoints.push(new THREE.Vector3(-2 * unitLength, -unitLength, 0));
      const transverseLeftBottomCurve = new THREE.CatmullRomCurve3(transverseLeftBottomPoints);
      const transverseLeftBottomGeometry = new THREE.TubeGeometry(transverseLeftBottomCurve, 64, .25, 16, false)
      transverseLeftBottom = new THREE.Mesh(transverseLeftBottomGeometry, tubeMaterial);
      unit.add(transverseLeftBottom);

      // Tranverse Left Front
      const transverseLeftFrontPoints = [];
      transverseLeftFrontPoints.push(new THREE.Vector3(-unitLength, 0, 0));
      transverseLeftFrontPoints.push(new THREE.Vector3(-2 * unitLength, 0, -unitLength));
      const transverseLeftFrontCurve = new THREE.CatmullRomCurve3(transverseLeftFrontPoints);
      const transverseLeftFrontGeometry = new THREE.TubeGeometry(transverseLeftFrontCurve, 64, .25, 16, false)
      transverseLeftFront = new THREE.Mesh(transverseLeftFrontGeometry, tubeMaterial);
      unit.add(transverseLeftFront);

      // Tranverse Left Back
      const transverseLeftBackPoints = [];
      transverseLeftBackPoints.push(new THREE.Vector3(-unitLength, 0, 0));
      transverseLeftBackPoints.push(new THREE.Vector3(-2 * unitLength, 0, unitLength));
      const transverseLeftBackCurve = new THREE.CatmullRomCurve3(transverseLeftBackPoints);
      const transverseLeftBackGeometry = new THREE.TubeGeometry(transverseLeftBackCurve, 64, .25, 16, false)
      transverseLeftBack = new THREE.Mesh(transverseLeftBackGeometry, tubeMaterial);
      unit.add(transverseLeftBack);

      // Coronal 

      // Top

      const coronalTubeTopPoints = [];
      coronalTubeTopPoints.push(new THREE.Vector3(0, 0, 0));
      coronalTubeTopPoints.push(new THREE.Vector3(0, unitLength, 0));
      const coronalTubeTopCurve = new THREE.CatmullRomCurve3(coronalTubeTopPoints);
      const coronalTubeTopGeometry = new THREE.TubeGeometry(coronalTubeTopCurve, 64, .25, 16, false)
      coronalTubeTop = new THREE.Mesh(coronalTubeTopGeometry, tubeMaterial);
      unit.add(coronalTubeTop);

      // Coronal Top Right
      const coronalTopRightPoints = [];
      coronalTopRightPoints.push(new THREE.Vector3(0, unitLength, 0));
      coronalTopRightPoints.push(new THREE.Vector3(unitLength, 2 * unitLength, 0));
      const coronalTopRightCurve = new THREE.CatmullRomCurve3(coronalTopRightPoints);
      const coronalTopRightGeometry = new THREE.TubeGeometry(coronalTopRightCurve, 64, .25, 16, false)
      coronalTopRight = new THREE.Mesh(coronalTopRightGeometry, tubeMaterial);
      unit.add(coronalTopRight);

      // Coronal Top Left
      const coronalTopLeftPoints = [];
      coronalTopLeftPoints.push(new THREE.Vector3(0, unitLength, 0));
      coronalTopLeftPoints.push(new THREE.Vector3(-unitLength, 2 * unitLength, 0));
      const coronalTopLeftCurve = new THREE.CatmullRomCurve3(coronalTopLeftPoints);
      const coronalTopLeftGeometry = new THREE.TubeGeometry(coronalTopLeftCurve, 64, .25, 16, false)
      coronalTopLeft = new THREE.Mesh(coronalTopLeftGeometry, tubeMaterial);
      unit.add(coronalTopLeft);

      // Coronal Top Back
      const coronalTopBackPoints = [];
      coronalTopBackPoints.push(new THREE.Vector3(0, unitLength, 0));
      coronalTopBackPoints.push(new THREE.Vector3(0, 2 * unitLength, -unitLength));
      const coronalTopBackCurve = new THREE.CatmullRomCurve3(coronalTopBackPoints);
      const coronalTopBackGeometry = new THREE.TubeGeometry(coronalTopBackCurve, 64, .25, 16, false)
      coronalTopBack = new THREE.Mesh(coronalTopBackGeometry, tubeMaterial);
      unit.add(coronalTopBack);

      // Coronal Top Front
      const coronalTopFrontPoints = [];
      coronalTopFrontPoints.push(new THREE.Vector3(0, unitLength, 0));
      coronalTopFrontPoints.push(new THREE.Vector3(0, 2 * unitLength, unitLength));
      const coronalTopFrontCurve = new THREE.CatmullRomCurve3(coronalTopFrontPoints);
      const coronalTopFrontGeometry = new THREE.TubeGeometry(coronalTopFrontCurve, 64, .25, 16, false)
      coronalTopFront = new THREE.Mesh(coronalTopFrontGeometry, tubeMaterial);
      unit.add(coronalTopFront);

      // Bottom

      const coronalTubeBottomPoints = [];
      coronalTubeBottomPoints.push(new THREE.Vector3(0, 0, 0));
      coronalTubeBottomPoints.push(new THREE.Vector3(0, -unitLength, 0));
      const coronalTubeBottomCurve = new THREE.CatmullRomCurve3(coronalTubeBottomPoints);
      const coronalTubeBottomGeometry = new THREE.TubeGeometry(coronalTubeBottomCurve, 64, .25, 16, false)
      coronalTubeBottom = new THREE.Mesh(coronalTubeBottomGeometry, tubeMaterial);
      unit.add(coronalTubeBottom);

      // Coronal Bottom Right
      const coronalBottomRightPoints = [];
      coronalBottomRightPoints.push(new THREE.Vector3(0, -unitLength, 0));
      coronalBottomRightPoints.push(new THREE.Vector3(unitLength, -2 * unitLength, 0));
      const coronalBottomRightCurve = new THREE.CatmullRomCurve3(coronalBottomRightPoints);
      const coronalBottomRightGeometry = new THREE.TubeGeometry(coronalBottomRightCurve, 64, .25, 16, false)
      coronalBottomRight = new THREE.Mesh(coronalBottomRightGeometry, tubeMaterial);
      unit.add(coronalBottomRight);

      // Coronal Bottom Left
      const coronalBottomLeftPoints = [];
      coronalBottomLeftPoints.push(new THREE.Vector3(0, -unitLength, 0));
      coronalBottomLeftPoints.push(new THREE.Vector3(-unitLength, -2 * unitLength, 0));
      const coronalBottomLeftCurve = new THREE.CatmullRomCurve3(coronalBottomLeftPoints);
      const coronalBottomLeftGeometry = new THREE.TubeGeometry(coronalBottomLeftCurve, 64, .25, 16, false)
      coronalBottomLeft = new THREE.Mesh(coronalBottomLeftGeometry, tubeMaterial);
      unit.add(coronalBottomLeft);

      // Coronal Bottom Back
      const coronalBottomBackPoints = [];
      coronalBottomBackPoints.push(new THREE.Vector3(0, -unitLength, 0));
      coronalBottomBackPoints.push(new THREE.Vector3(0, -2 * unitLength, -unitLength));
      const coronalBottomBackCurve = new THREE.CatmullRomCurve3(coronalBottomBackPoints);
      const coronalBottomBackGeometry = new THREE.TubeGeometry(coronalBottomBackCurve, 64, .25, 16, false)
      coronalBottomBack = new THREE.Mesh(coronalBottomBackGeometry, tubeMaterial);
      unit.add(coronalBottomBack);

      // Coronal Botom Front
      const coronalBottomFrontPoints = [];
      coronalBottomFrontPoints.push(new THREE.Vector3(0, -unitLength, 0));
      coronalBottomFrontPoints.push(new THREE.Vector3(0, -2 * unitLength, unitLength));
      const coronalBottomFrontCurve = new THREE.CatmullRomCurve3(coronalBottomFrontPoints);
      const coronalBottomFrontGeometry = new THREE.TubeGeometry(coronalBottomFrontCurve, 64, .25, 16, false)
      coronalBottomFront = new THREE.Mesh(coronalBottomFrontGeometry, tubeMaterial);
      unit.add(coronalBottomFront);

      // Saggital 

      // Front

      const saggitalTubeFrontPoints = [];
      saggitalTubeFrontPoints.push(new THREE.Vector3(0, 0, 0));
      saggitalTubeFrontPoints.push(new THREE.Vector3(0, 0, unitLength));
      const saggitalTubeFrontCurve = new THREE.CatmullRomCurve3(saggitalTubeFrontPoints);
      const saggitalTubeFrontGeometry = new THREE.TubeGeometry(saggitalTubeFrontCurve, 64, .25, 16, false)
      saggitalTubeFront = new THREE.Mesh(saggitalTubeFrontGeometry, tubeMaterial);
      unit.add(saggitalTubeFront);

      // Saggital Front Top

      const saggitalFrontTopPoints = [];
      saggitalFrontTopPoints.push(new THREE.Vector3(0, 0, -unitLength));
      saggitalFrontTopPoints.push(new THREE.Vector3(0, unitLength, -2 * unitLength));
      const saggitalFrontTopCurve = new THREE.CatmullRomCurve3(saggitalFrontTopPoints);
      const saggitalFrontTopGeometry = new THREE.TubeGeometry(saggitalFrontTopCurve, 64, .25, 16, false)
      saggitalFrontTop = new THREE.Mesh(saggitalFrontTopGeometry, tubeMaterial);
      unit.add(saggitalFrontTop);

      // Saggital Front Bottom

      const saggitalFrontBottomPoints = [];
      saggitalFrontBottomPoints.push(new THREE.Vector3(0, 0, -unitLength));
      saggitalFrontBottomPoints.push(new THREE.Vector3(0, -unitLength, -2 * unitLength));
      const saggitalFrontBottomCurve = new THREE.CatmullRomCurve3(saggitalFrontBottomPoints);
      const saggitalFrontBottomGeometry = new THREE.TubeGeometry(saggitalFrontBottomCurve, 64, .25, 16, false)
      saggitalFrontBottom = new THREE.Mesh(saggitalFrontBottomGeometry, tubeMaterial);
      unit.add(saggitalFrontBottom);

      // Saggital Front Left

      const saggitalFrontLeftPoints = [];
      saggitalFrontLeftPoints.push(new THREE.Vector3(0, 0, -unitLength));
      saggitalFrontLeftPoints.push(new THREE.Vector3(-unitLength, 0, -2 * unitLength));
      const saggitalFrontLeftCurve = new THREE.CatmullRomCurve3(saggitalFrontLeftPoints);
      const saggitalFrontLeftGeometry = new THREE.TubeGeometry(saggitalFrontLeftCurve, 64, .25, 16, false)
      saggitalFrontLeft = new THREE.Mesh(saggitalFrontLeftGeometry, tubeMaterial);
      unit.add(saggitalFrontLeft);

      // Saggital Front Right

      const saggitalFrontRightPoints = [];
      saggitalFrontRightPoints.push(new THREE.Vector3(0, 0, -unitLength));
      saggitalFrontRightPoints.push(new THREE.Vector3(unitLength, 0, -2 * unitLength));
      const saggitalFrontRightCurve = new THREE.CatmullRomCurve3(saggitalFrontRightPoints);
      const saggitalFrontRightGeometry = new THREE.TubeGeometry(saggitalFrontRightCurve, 64, .25, 16, false)
      saggitalFrontRight = new THREE.Mesh(saggitalFrontRightGeometry, tubeMaterial);
      unit.add(saggitalFrontRight);

      // Back

      const saggitalTubeBackPoints = [];
      saggitalTubeBackPoints.push(new THREE.Vector3(0, 0, 0));
      saggitalTubeBackPoints.push(new THREE.Vector3(0, 0, -unitLength));
      const saggitalTubeBackCurve = new THREE.CatmullRomCurve3(saggitalTubeBackPoints);
      const saggitalTubeBackGeometry = new THREE.TubeGeometry(saggitalTubeBackCurve, 64, .25, 16, false)
      saggitalTubeBack = new THREE.Mesh(saggitalTubeBackGeometry, tubeMaterial);
      unit.add(saggitalTubeBack);

      // Saggital Back Top

      const saggitalBackTopPoints = [];
      saggitalBackTopPoints.push(new THREE.Vector3(0, 0, unitLength));
      saggitalBackTopPoints.push(new THREE.Vector3(0, unitLength, 2 * unitLength));
      const saggitalBackTopCurve = new THREE.CatmullRomCurve3(saggitalBackTopPoints);
      const saggitalBackTopGeometry = new THREE.TubeGeometry(saggitalBackTopCurve, 64, .25, 16, false)
      saggitalBackTop = new THREE.Mesh(saggitalBackTopGeometry, tubeMaterial);
      unit.add(saggitalBackTop);

      // Saggital Back Bottom

      const saggitalBackBottomPoints = [];
      saggitalBackBottomPoints.push(new THREE.Vector3(0, 0, unitLength));
      saggitalBackBottomPoints.push(new THREE.Vector3(0, -unitLength, 2 * unitLength));
      const saggitalBackBottomCurve = new THREE.CatmullRomCurve3(saggitalBackBottomPoints);
      const saggitalBackBottomGeometry = new THREE.TubeGeometry(saggitalBackBottomCurve, 64, .25, 16, false)
      saggitalBackBottom = new THREE.Mesh(saggitalBackBottomGeometry, tubeMaterial);
      unit.add(saggitalBackBottom);

      // Saggital Back Left

      const saggitalBackLeftPoints = [];
      saggitalBackLeftPoints.push(new THREE.Vector3(0, 0, unitLength));
      saggitalBackLeftPoints.push(new THREE.Vector3(-unitLength, 0, 2 * unitLength));
      const saggitalBackLeftCurve = new THREE.CatmullRomCurve3(saggitalBackLeftPoints);
      const saggitalBackLeftGeometry = new THREE.TubeGeometry(saggitalBackLeftCurve, 64, .25, 16, false)
      saggitalBackLeft = new THREE.Mesh(saggitalBackLeftGeometry, tubeMaterial);
      unit.add(saggitalBackLeft);

      // Saggital Back Right

      const saggitalBackRightPoints = [];
      saggitalBackRightPoints.push(new THREE.Vector3(0, 0, unitLength));
      saggitalBackRightPoints.push(new THREE.Vector3(unitLength, 0, 2 * unitLength));
      const saggitalBackRightCurve = new THREE.CatmullRomCurve3(saggitalBackRightPoints);
      const saggitalBackRightGeometry = new THREE.TubeGeometry(saggitalBackRightCurve, 64, .25, 16, false)
      saggitalBackRight = new THREE.Mesh(saggitalBackRightGeometry, tubeMaterial);
      unit.add(saggitalBackRight);

      scene.add(unit);

      //scene.add(Axis.x);
      //scene.add(Axis.y);
      //scene.add(Axis.z);

      scene.background = new THREE.Color(0x111111);

      const light = new THREE.DirectionalLight(0xfffffff, 1);
      light.position.set(1, 1, 1)//.normalize();
      scene.add(light);

      const light2 = new THREE.DirectionalLight(0xfffffff, 1);
      light2.position.set(-1, -1, -1)//.normalize();
      scene.add(light2);

    }

    function onWindowResize() {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    }

    function animate() {
      requestAnimationFrame(animate);
      controls.update();
      render();
      //stats.update();
    }

    function render() {

      const time = Date.now() * 0.002;

      //unit.rotation.x = time * 0.15;
      //unit.rotation.y = time * 0.20;
      //unit.rotation.z = time * 0.15;

      renderer.render(scene, camera);
    }

  </script>
</head>

<body>
</body>

</html>