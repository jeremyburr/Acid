<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Acid</title>
  <link rel="shortcut icon" href="#">
  <style>
    body {
      margin: 0;
    }
  </style>
  <script type="module">
    import * as THREE from '../js/three.module.js';
    import { TrackballControls } from '../js/TrackballControls.js';
    import * as Axis from '../js/shapes/axis.js';

    let camera, scene, renderer, controls;
    let coronalTubeTop, coronalTubeBottom, saggitalTubeFront, saggitalTubeBack;
    let coronalTopRight, coronalTopLeft, coronalTopBack, coronalTopFront;
    let coronalBottomRight, coronalBottomLeft, coronalBottomBack, coronalBottomFront;
    let saggitalBackTop, saggitalBackBottom, saggitalBackLeft, saggitalBackRight;
    let saggitalFrontTop, saggitalFrontBottom, saggitalFrontLeft, saggitalFrontRight;
    let unit;
    let unitLength = 8;

    init();
    animate();

    function init() {
      scene = new THREE.Scene();
      camera = new THREE.PerspectiveCamera(27, window.innerWidth / window.innerHeight, 1, 3500);
      camera.position.x = 44;
      camera.position.y = 45;
      camera.position.z = 115;

      renderer = new THREE.WebGLRenderer({ antialias: true });
      renderer.setPixelRatio(window.devicePixelRatio);
      renderer.setSize(window.innerWidth, window.innerHeight);

      document.body.appendChild(renderer.domElement);
      controls = new TrackballControls(camera, renderer.domElement);

      window.addEventListener('resize', onWindowResize);

      unit = new THREE.Group();

      const tubeMaterial = new THREE.MeshPhongMaterial({
        //color: 0xFC3EC1,
        color: 0xffffff,
        shininess: 150,
        side: THREE.DoubleSide,
        //emissive: 'red'
      });

      function degreesToRadians(degrees) {
        var pi = Math.PI;
        return degrees * (Math.PI / 180);
      }

      const colors = [
        0, 0, 1,
        1, 0, 1,
        0, 1, 1,
      ]



      const materialLight = new THREE.MeshPhongMaterial({
        side: THREE.DoubleSide,
        vertexColors: true,
        transparent: true,
        opacity: .85 
      });
      
      const wingColors = [
        1, .46, 0,
        1, 0, 0,
        1, 1, 0,
      ]

      const crystalColors = [
        0, .94, .2,
        .45, 1, .95,
        .1, .2, .98,
      ]

      const val = 4*Math.sqrt(2);


      // Crystals

      // Octant One

      // Green Teal Blue

      const oneUpFront = new THREE.BufferGeometry();
      oneUpFront.setAttribute('position', new THREE.Float32BufferAttribute([0,val,-8, -8,val,0, 0,0,0], 3));
      oneUpFront.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshoneUpFront = new THREE.Mesh(oneUpFront, materialLight);
      unit.add(meshoneUpFront);

      const oneTopLeft = new THREE.BufferGeometry();
      oneTopLeft.setAttribute('position', new THREE.Float32BufferAttribute([-8,val,-16, 0,val,-8, -8,val,0, ], 3));
      oneTopLeft.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshoneTopLeft = new THREE.Mesh(oneTopLeft, materialLight);
      unit.add(meshoneTopLeft);

      const oneTopRight = new THREE.BufferGeometry();
      oneTopRight.setAttribute('position', new THREE.Float32BufferAttribute([-8,val,-16, -16,val,-8, -8,val,0, ], 3));
      oneTopRight.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshoneTopRight = new THREE.Mesh(oneTopRight, materialLight);
      unit.add(meshoneTopRight);

      const oneTopBack = new THREE.BufferGeometry();
      oneTopBack.setAttribute('position', new THREE.Float32BufferAttribute([-8,val,-16, -16,val,-8, -16,0,-16], 3));
      oneTopBack.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshoneTopBack = new THREE.Mesh(oneTopBack, materialLight);
      unit.add(meshoneTopBack);

      const oneDownFront = new THREE.BufferGeometry();
      oneDownFront.setAttribute('position', new THREE.Float32BufferAttribute([0,0,0 ,0,-val,-8, -8,-val,0], 3));
      oneDownFront.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshoneDownFront = new THREE.Mesh(oneDownFront, materialLight);
      unit.add(meshoneDownFront);
      
      const oneDownLeft = new THREE.BufferGeometry();
      oneDownLeft.setAttribute('position', new THREE.Float32BufferAttribute([-8,-val,-16, 0,-val,-8, -8,-val,0, ], 3));
      oneDownLeft.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshoneDownLeft = new THREE.Mesh(oneDownLeft, materialLight);
      unit.add(meshoneDownLeft);

      const oneDownRight = new THREE.BufferGeometry();
      oneDownRight.setAttribute('position', new THREE.Float32BufferAttribute([-8,-val,-16, -16,-val,-8, -8,-val,0, ], 3));
      oneDownRight.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshoneDownRight = new THREE.Mesh(oneDownRight, materialLight);
      unit.add(meshoneDownRight);
      
      const oneDownBack = new THREE.BufferGeometry();
      oneDownBack.setAttribute('position', new THREE.Float32BufferAttribute([-8,-val,-16, -16,-val,-8, -16,0,-16], 3));
      oneDownBack.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshoneDownBack = new THREE.Mesh(oneDownBack, materialLight);
      unit.add(meshoneDownBack);

      // Green Teal Blue

      const oneLeftFront = new THREE.BufferGeometry();
      oneLeftFront.setAttribute('position', new THREE.Float32BufferAttribute([0,val,-8, 0,-val,-8, 0,0,0 ,], 3));
      oneLeftFront.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshoneLeftFront = new THREE.Mesh(oneLeftFront, materialLight);
      unit.add(meshoneLeftFront);

      const oneLeftTop = new THREE.BufferGeometry();
      oneLeftTop.setAttribute('position', new THREE.Float32BufferAttribute([-8,val,-16, 0,val,-8, 0,-val,-8, ], 3));
      oneLeftTop.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshoneLeftTop = new THREE.Mesh(oneLeftTop, materialLight);
      unit.add(meshoneLeftTop);

      const oneLeftBottom = new THREE.BufferGeometry();
      oneLeftBottom.setAttribute('position', new THREE.Float32BufferAttribute([-8,val,-16, -8,-val,-16,  0,-val,-8, ], 3));
      oneLeftBottom.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshoneLeftBottom = new THREE.Mesh(oneLeftBottom, materialLight);
      unit.add(meshoneLeftBottom);

      const oneLeftBack = new THREE.BufferGeometry();
      oneLeftBack.setAttribute('position', new THREE.Float32BufferAttribute([-8,val,-16, -8,-val,-16,  -16,0,-16, ], 3));
      oneLeftBack.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshoneLeftBack = new THREE.Mesh(oneLeftBack, materialLight);
      unit.add(meshoneLeftBack);

      // Right

      const oneRightFront = new THREE.BufferGeometry();
      oneRightFront.setAttribute('position', new THREE.Float32BufferAttribute([-8,val,0, -8,-val,0, 0,0,0 ,], 3));
      oneRightFront.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshoneRightFront = new THREE.Mesh(oneRightFront, materialLight);
      unit.add(meshoneRightFront);

      const oneRightTop = new THREE.BufferGeometry();
      oneRightTop.setAttribute('position', new THREE.Float32BufferAttribute([-16,val,-8, -8,val,0, -8,-val,0], 3));
      oneRightTop.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshoneRightTop = new THREE.Mesh(oneRightTop, materialLight);
      unit.add(meshoneRightTop);

      const oneRightBottom = new THREE.BufferGeometry();
      oneRightBottom.setAttribute('position', new THREE.Float32BufferAttribute([-16,val,-8, -16,-val,-8, -8,-val,0], 3));
      oneRightBottom.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshoneRightBottom = new THREE.Mesh(oneRightBottom, materialLight);
      unit.add(meshoneRightBottom);

      const oneRightBack = new THREE.BufferGeometry();
      oneRightBack.setAttribute('position', new THREE.Float32BufferAttribute([-16,val,-8, -16,-val,-8,  -16,0,-16, ], 3));
      oneRightBack.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshoneRightBack = new THREE.Mesh(oneRightBack, materialLight);
      unit.add(meshoneRightBack);


    // Octant Three

      // Green Teal Blue

      const threeUpFront = new THREE.BufferGeometry();
      threeUpFront.setAttribute('position', new THREE.Float32BufferAttribute([0,val,8, 8,val,0, 0,0,0], 3));
      threeUpFront.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshthreeUpFront = new THREE.Mesh(threeUpFront, materialLight);
      unit.add(meshthreeUpFront);

      const threeTopLeft = new THREE.BufferGeometry();
      threeTopLeft.setAttribute('position', new THREE.Float32BufferAttribute([8,val,16,0,val,8,8,val,0, ], 3));
      threeTopLeft.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshthreeTopLeft = new THREE.Mesh(threeTopLeft, materialLight);
      unit.add(meshthreeTopLeft);

      const threeTopRight = new THREE.BufferGeometry();
      threeTopRight.setAttribute('position', new THREE.Float32BufferAttribute([8,val,16, 16,val,8, 8,val,0, ], 3));
      threeTopRight.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshthreeTopRight = new THREE.Mesh(threeTopRight, materialLight);
      unit.add(meshthreeTopRight);

      const threeTopBack = new THREE.BufferGeometry();
      threeTopBack.setAttribute('position', new THREE.Float32BufferAttribute([8,val,16, 16,val,8,16,0,16], 3));
      threeTopBack.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshthreeTopBack = new THREE.Mesh(threeTopBack, materialLight);
      unit.add(meshthreeTopBack);

      const threeDownFront = new THREE.BufferGeometry();
      threeDownFront.setAttribute('position', new THREE.Float32BufferAttribute([0,0,0 ,0,-val,8, 8,-val,0], 3));
      threeDownFront.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshthreeDownFront = new THREE.Mesh(threeDownFront, materialLight);
      unit.add(meshthreeDownFront);
      
      const threeDownLeft = new THREE.BufferGeometry();
      threeDownLeft.setAttribute('position', new THREE.Float32BufferAttribute([8,-val,16, 0,-val,8, 8,-val,0, ], 3));
      threeDownLeft.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshthreeDownLeft = new THREE.Mesh(threeDownLeft, materialLight);
      unit.add(meshthreeDownLeft);

      const threeDownRight = new THREE.BufferGeometry();
      threeDownRight.setAttribute('position', new THREE.Float32BufferAttribute([8,-val,16, 16,-val,8, 8,-val,0, ], 3));
      threeDownRight.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshthreeDownRight = new THREE.Mesh(threeDownRight, materialLight);
      unit.add(meshthreeDownRight);
      
      const threeDownBack = new THREE.BufferGeometry();
      threeDownBack.setAttribute('position', new THREE.Float32BufferAttribute([8,-val,16, 16,-val,8, 16,0,16], 3));
      threeDownBack.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshthreeDownBack = new THREE.Mesh(threeDownBack, materialLight);
      unit.add(meshthreeDownBack);

      // Green Teal Blue

      const threeLeftFront = new THREE.BufferGeometry();
      threeLeftFront.setAttribute('position', new THREE.Float32BufferAttribute([0,val,8, 0,-val,8, 0,0,0 ], 3));
      threeLeftFront.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshthreeLeftFront = new THREE.Mesh(threeLeftFront, materialLight);
      unit.add(meshthreeLeftFront);

      const threeLeftTop = new THREE.BufferGeometry();
      threeLeftTop.setAttribute('position', new THREE.Float32BufferAttribute([8,val,16, 0,val,8, 0,-val,8, ], 3));
      threeLeftTop.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshthreeLeftTop = new THREE.Mesh(threeLeftTop, materialLight);
      unit.add(meshthreeLeftTop);

      const threeLeftBottom = new THREE.BufferGeometry();
      threeLeftBottom.setAttribute('position', new THREE.Float32BufferAttribute([8,val,16, 8,-val,16,  0,-val,8, ], 3));
      threeLeftBottom.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshthreeLeftBottom = new THREE.Mesh(threeLeftBottom, materialLight);
      unit.add(meshthreeLeftBottom);

      const threeLeftBack = new THREE.BufferGeometry();
      threeLeftBack.setAttribute('position', new THREE.Float32BufferAttribute([8,val,16, 8,-val,16,  16,0,16, ], 3));
      threeLeftBack.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshthreeLeftBack = new THREE.Mesh(threeLeftBack, materialLight);
      unit.add(meshthreeLeftBack);

      // Right

      const threeRightFront = new THREE.BufferGeometry();
      threeRightFront.setAttribute('position', new THREE.Float32BufferAttribute([8,val,0, 8,-val,0, 0,0,0], 3));
      threeRightFront.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshthreeRightFront = new THREE.Mesh(threeRightFront, materialLight);
      unit.add(meshthreeRightFront);

      const threeRightTop = new THREE.BufferGeometry();
      threeRightTop.setAttribute('position', new THREE.Float32BufferAttribute([16,val,8 ,8,val,0, 8,-val,0], 3));
      threeRightTop.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshthreeRightTop = new THREE.Mesh(threeRightTop, materialLight);
      unit.add(meshthreeRightTop);

      const threeRightBottom = new THREE.BufferGeometry();
      threeRightBottom.setAttribute('position', new THREE.Float32BufferAttribute([16,val,8 ,16,-val,8, 8,-val,0], 3));
      threeRightBottom.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshthreeRightBottom = new THREE.Mesh(threeRightBottom, materialLight);
      unit.add(meshthreeRightBottom);

      const threeRightBack = new THREE.BufferGeometry();
      threeRightBack.setAttribute('position', new THREE.Float32BufferAttribute([16,val,8, 16,-val,8,  16,0,16, ], 3));
      threeRightBack.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshthreeRightBack = new THREE.Mesh(threeRightBack, materialLight);
      unit.add(meshthreeRightBack);


      // Octant Two

      // Green Teal Blue

      const twoUpFront = new THREE.BufferGeometry();
      twoUpFront.setAttribute('position', new THREE.Float32BufferAttribute([0,val,-8, 8,val,0, 0,0,0], 3));
      twoUpFront.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshtwoUpFront = new THREE.Mesh(twoUpFront, materialLight);
      unit.add(meshtwoUpFront);

      const twoTopLeft = new THREE.BufferGeometry();
      twoTopLeft.setAttribute('position', new THREE.Float32BufferAttribute([8,val,-16, 0,val,-8, 8,val,0, ], 3));
      twoTopLeft.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshtwoTopLeft = new THREE.Mesh(twoTopLeft, materialLight);
      unit.add(meshtwoTopLeft);

      const twoTopRight = new THREE.BufferGeometry();
      twoTopRight.setAttribute('position', new THREE.Float32BufferAttribute([8,val,-16, 16,val,-8, 8,val,0, ], 3));
      twoTopRight.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshtwoTopRight = new THREE.Mesh(twoTopRight, materialLight);
      unit.add(meshtwoTopRight);

      const twoTopBack = new THREE.BufferGeometry();
      twoTopBack.setAttribute('position', new THREE.Float32BufferAttribute([8,val,-16, 16,val,-8, 16,0,-16], 3));
      twoTopBack.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshtwoTopBack = new THREE.Mesh(twoTopBack, materialLight);
      unit.add(meshtwoTopBack);

      const twoDownFront = new THREE.BufferGeometry();
      twoDownFront.setAttribute('position', new THREE.Float32BufferAttribute([0,0,0 ,0,-val,-8, 8,-val,0], 3));
      twoDownFront.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshtwoDownFront = new THREE.Mesh(twoDownFront, materialLight);
      unit.add(meshtwoDownFront);
      
      const twoDownLeft = new THREE.BufferGeometry();
      twoDownLeft.setAttribute('position', new THREE.Float32BufferAttribute([8,-val,-16, 0,-val,-8, 8,-val,0, ], 3));
      twoDownLeft.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshtwoDownLeft = new THREE.Mesh(twoDownLeft, materialLight);
      unit.add(meshtwoDownLeft);

      const twoDownRight = new THREE.BufferGeometry();
      twoDownRight.setAttribute('position', new THREE.Float32BufferAttribute([8,-val,-16, 16,-val,-8, 8,-val,0, ], 3));
      twoDownRight.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshtwoDownRight = new THREE.Mesh(twoDownRight, materialLight);
      unit.add(meshtwoDownRight);
      
      const twoDownBack = new THREE.BufferGeometry();
      twoDownBack.setAttribute('position', new THREE.Float32BufferAttribute([8,-val,-16, 16,-val,-8, 16,0,-16], 3));
      twoDownBack.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshtwoDownBack = new THREE.Mesh(twoDownBack, materialLight);
      unit.add(meshtwoDownBack);

      // Green Teal Blue

      const twoLeftFront = new THREE.BufferGeometry();
      twoLeftFront.setAttribute('position', new THREE.Float32BufferAttribute([0,val,-8, 0,-val,-8, 0,0,0 ], 3));
      twoLeftFront.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshtwoLeftFront = new THREE.Mesh(twoLeftFront, materialLight);
      unit.add(meshtwoLeftFront);

      const twoLeftTop = new THREE.BufferGeometry();
      twoLeftTop.setAttribute('position', new THREE.Float32BufferAttribute([8,val,-16, 0,val,-8, 0,-val,-8, ], 3));
      twoLeftTop.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshtwoLeftTop = new THREE.Mesh(twoLeftTop, materialLight);
      unit.add(meshtwoLeftTop);

      const twoLeftBottom = new THREE.BufferGeometry();
      twoLeftBottom.setAttribute('position', new THREE.Float32BufferAttribute([8,val,-16, 8,-val,-16,  0,-val,-8, ], 3));
      twoLeftBottom.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshtwoLeftBottom = new THREE.Mesh(twoLeftBottom, materialLight);
      unit.add(meshtwoLeftBottom);

      const twoLeftBack = new THREE.BufferGeometry();
      twoLeftBack.setAttribute('position', new THREE.Float32BufferAttribute([8,val,-16, 8,-val,-16,  16,0,-16 ], 3));
      twoLeftBack.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshtwoLeftBack = new THREE.Mesh(twoLeftBack, materialLight);
      unit.add(meshtwoLeftBack);

      // Right

      const twoRightFront = new THREE.BufferGeometry();
      twoRightFront.setAttribute('position', new THREE.Float32BufferAttribute([8,val,0, 8,-val,0, 0,0,0], 3));
      twoRightFront.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshtwoRightFront = new THREE.Mesh(twoRightFront, materialLight);
      unit.add(meshtwoRightFront);

      const twoRightTop = new THREE.BufferGeometry();
      twoRightTop.setAttribute('position', new THREE.Float32BufferAttribute([16,val,-8, 8,val,0, 8,-val,0], 3));
      twoRightTop.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshtwoRightTop = new THREE.Mesh(twoRightTop, materialLight);
      unit.add(meshtwoRightTop);

      const twoRightBottom = new THREE.BufferGeometry();
      twoRightBottom.setAttribute('position', new THREE.Float32BufferAttribute([16,val,-8, 16,-val,-8, 8,-val,0], 3));
      twoRightBottom.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshtwoRightBottom = new THREE.Mesh(twoRightBottom, materialLight);
      unit.add(meshtwoRightBottom);

      const twoRightBack = new THREE.BufferGeometry();
      twoRightBack.setAttribute('position', new THREE.Float32BufferAttribute([16,val,-8, 16,-val,-8,  16,0,-16, ], 3));
      twoRightBack.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshtwoRightBack = new THREE.Mesh(twoRightBack, materialLight);
      unit.add(meshtwoRightBack);


    // Octant four

      // Green Teal Blue

      const fourUpFront = new THREE.BufferGeometry();
      fourUpFront.setAttribute('position', new THREE.Float32BufferAttribute([0,val,8, -8,val,0, 0,0,0], 3));
      fourUpFront.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshfourUpFront = new THREE.Mesh(fourUpFront, materialLight);
      unit.add(meshfourUpFront);

      const fourTopLeft = new THREE.BufferGeometry();
      fourTopLeft.setAttribute('position', new THREE.Float32BufferAttribute([-8,val,16, 0,val,8, -8,val,0, ], 3));
      fourTopLeft.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshfourTopLeft = new THREE.Mesh(fourTopLeft, materialLight);
      unit.add(meshfourTopLeft);

      const fourTopRight = new THREE.BufferGeometry();
      fourTopRight.setAttribute('position', new THREE.Float32BufferAttribute([-8,val,16, -16,val,8, -8,val,0, ], 3));
      fourTopRight.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshfourTopRight = new THREE.Mesh(fourTopRight, materialLight);
      unit.add(meshfourTopRight);

      const fourTopBack = new THREE.BufferGeometry();
      fourTopBack.setAttribute('position', new THREE.Float32BufferAttribute([-8,val,16, -16,val,8, -16,0,16], 3));
      fourTopBack.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshfourTopBack = new THREE.Mesh(fourTopBack, materialLight);
      unit.add(meshfourTopBack);

      const fourDownFront = new THREE.BufferGeometry();
      fourDownFront.setAttribute('position', new THREE.Float32BufferAttribute([0,0,0 ,0,-val,8, -8,-val,0], 3));
      fourDownFront.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshfourDownFront = new THREE.Mesh(fourDownFront, materialLight);
      unit.add(meshfourDownFront);
      
      const fourDownLeft = new THREE.BufferGeometry();
      fourDownLeft.setAttribute('position', new THREE.Float32BufferAttribute([-8,-val,16, 0,-val,8, -8,-val,0, ], 3));
      fourDownLeft.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshfourDownLeft = new THREE.Mesh(fourDownLeft, materialLight);
      unit.add(meshfourDownLeft);

      const fourDownRight = new THREE.BufferGeometry();
      fourDownRight.setAttribute('position', new THREE.Float32BufferAttribute([-8,-val,16, -16,-val,8, -8,-val,0, ], 3));
      fourDownRight.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshfourDownRight = new THREE.Mesh(fourDownRight, materialLight);
      unit.add(meshfourDownRight);
      
      const fourDownBack = new THREE.BufferGeometry();
      fourDownBack.setAttribute('position', new THREE.Float32BufferAttribute([-8,-val,16, -16,-val,8, -16,0,16], 3));
      fourDownBack.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshfourDownBack = new THREE.Mesh(fourDownBack, materialLight);
      unit.add(meshfourDownBack);

      const fourLeftFront = new THREE.BufferGeometry();
      fourLeftFront.setAttribute('position', new THREE.Float32BufferAttribute([0,val,8, 0,-val,8, 0,0,0 ], 3));
      fourLeftFront.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshfourLeftFront = new THREE.Mesh(fourLeftFront, materialLight);
      unit.add(meshfourLeftFront);

      const fourLeftTop = new THREE.BufferGeometry();
      fourLeftTop.setAttribute('position', new THREE.Float32BufferAttribute([-8,val,16, 0,val,8, 0,-val,8, ], 3));
      fourLeftTop.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshfourLeftTop = new THREE.Mesh(fourLeftTop, materialLight);
      unit.add(meshfourLeftTop);

      const fourLeftBottom = new THREE.BufferGeometry();
      fourLeftBottom.setAttribute('position', new THREE.Float32BufferAttribute([-8,val,16, -8,-val,16,  0,-val,8, ], 3));
      fourLeftBottom.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshfourLeftBottom = new THREE.Mesh(fourLeftBottom, materialLight);
      unit.add(meshfourLeftBottom);

      const fourLeftBack = new THREE.BufferGeometry();
      fourLeftBack.setAttribute('position', new THREE.Float32BufferAttribute([-8,val,16, -8,-val,16,  -16,0,16 ], 3));
      fourLeftBack.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshfourLeftBack = new THREE.Mesh(fourLeftBack, materialLight);
      unit.add(meshfourLeftBack);

      // Right

      const fourRightFront = new THREE.BufferGeometry();
      fourRightFront.setAttribute('position', new THREE.Float32BufferAttribute([-8,val,0, -8,-val,0, 0,0,0], 3));
      fourRightFront.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshfourRightFront = new THREE.Mesh(fourRightFront, materialLight);
      unit.add(meshfourRightFront);

      const fourRightTop = new THREE.BufferGeometry();
      fourRightTop.setAttribute('position', new THREE.Float32BufferAttribute([-16,val,8, -8,val,0, -8,-val,0], 3));
      fourRightTop.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshfourRightTop = new THREE.Mesh(fourRightTop, materialLight);
      unit.add(meshfourRightTop);

      const fourRightBottom = new THREE.BufferGeometry();
      fourRightBottom.setAttribute('position', new THREE.Float32BufferAttribute([-16,val,8, -16,-val,8, -8,-val,0], 3));
      fourRightBottom.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshfourRightBottom = new THREE.Mesh(fourRightBottom, materialLight);
      unit.add(meshfourRightBottom);

      const fourRightBack = new THREE.BufferGeometry();
      fourRightBack.setAttribute('position', new THREE.Float32BufferAttribute([-16,val,8, -16,-val,8,  -16,0,16, ], 3));
      fourRightBack.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshfourRightBack = new THREE.Mesh(fourRightBack, materialLight);
      unit.add(meshfourRightBack);

      // Octant 5

      // Green Teal Blue

      const fiveUpFront = new THREE.BufferGeometry();
      fiveUpFront.setAttribute('position', new THREE.Float32BufferAttribute([0,val,8, -8,val,0, 0,0,0], 3));
      fiveUpFront.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshfiveUpFront = new THREE.Mesh(fiveUpFront, materialLight);
      unit.add(meshfiveUpFront);

      const fiveTopLeft = new THREE.BufferGeometry();
      fiveTopLeft.setAttribute('position', new THREE.Float32BufferAttribute([0,val,8, -8,val,0, 0,16,8], 3));
      fiveTopLeft.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshfiveTopLeft = new THREE.Mesh(fiveTopLeft, materialLight);
      unit.add(meshfiveTopLeft);

      const fiveTopRight = new THREE.BufferGeometry();
      fiveTopRight.setAttribute('position', new THREE.Float32BufferAttribute([-8,16,0, -8,val,0, 0,16,8,], 3));
      fiveTopRight.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshfiveTopRight = new THREE.Mesh(fiveTopRight, materialLight);
      unit.add(meshfiveTopRight);


      const fiveTopBack = new THREE.BufferGeometry();
      fiveTopBack.setAttribute('position', new THREE.Float32BufferAttribute([-8,16,0, 0,20,0, 0,16,8,], 3));
      fiveTopBack.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshfiveTopBack = new THREE.Mesh(fiveTopBack, materialLight);
      unit.add(meshfiveTopBack);

      //----


      const fiveDownFront = new THREE.BufferGeometry();
      fiveDownFront.setAttribute('position', new THREE.Float32BufferAttribute([0,val,-8, 8,val,0, 0,0,0], 3));
      fiveDownFront.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshfiveDownFront = new THREE.Mesh(fiveDownFront, materialLight);
      unit.add(meshfiveDownFront);
      
      const fiveDownLeft = new THREE.BufferGeometry();
      fiveDownLeft.setAttribute('position', new THREE.Float32BufferAttribute([0,val,-8, 8,val,0, 0,16,-8], 3));
      fiveDownLeft.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshfiveDownLeft = new THREE.Mesh(fiveDownLeft, materialLight);
      unit.add(meshfiveDownLeft);


      const fiveDownRight = new THREE.BufferGeometry();
      fiveDownRight.setAttribute('position', new THREE.Float32BufferAttribute([8,16,0, 8,val,0, 0,16,-8,], 3));
      fiveDownRight.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshfiveDownRight = new THREE.Mesh(fiveDownRight, materialLight);
      unit.add(meshfiveDownRight);
      
      const fiveDownBack = new THREE.BufferGeometry();
      fiveDownBack.setAttribute('position', new THREE.Float32BufferAttribute([8,16,0, 0,20,0, 0,16,-8,], 3));
      fiveDownBack.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshfiveDownBack = new THREE.Mesh(fiveDownBack, materialLight);
      unit.add(meshfiveDownBack);

      //---

      const fiveLeftFront = new THREE.BufferGeometry();
      fiveLeftFront.setAttribute('position', new THREE.Float32BufferAttribute([8,val,0, 0,val,8, 0,0,0], 3));
      fiveLeftFront.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshfiveLeftFront = new THREE.Mesh(fiveLeftFront, materialLight);
      unit.add(meshfiveLeftFront);

      const fiveLeftTop = new THREE.BufferGeometry();
      fiveLeftTop.setAttribute('position', new THREE.Float32BufferAttribute([8,val,0, 0,val,8, 8,16,0], 3));
      fiveLeftTop.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshfiveLeftTop = new THREE.Mesh(fiveLeftTop, materialLight);
      unit.add(meshfiveLeftTop);


      const fiveLeftBottom = new THREE.BufferGeometry();
      fiveLeftBottom.setAttribute('position', new THREE.Float32BufferAttribute([0,16,8, 0,val,8, 8,16,0,], 3));
      fiveLeftBottom.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshfiveLeftBottom = new THREE.Mesh(fiveLeftBottom, materialLight);
      unit.add(meshfiveLeftBottom);

      const fiveLeftBack = new THREE.BufferGeometry();
      fiveLeftBack.setAttribute('position', new THREE.Float32BufferAttribute([0,16,8, 0,20,0, 8,16,0,], 3));
      fiveLeftBack.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshfiveLeftBack = new THREE.Mesh(fiveLeftBack, materialLight);
      unit.add(meshfiveLeftBack);

      // Right

      const fiveRightFront = new THREE.BufferGeometry();
      fiveRightFront.setAttribute('position', new THREE.Float32BufferAttribute([-8,val,0, 0,val,-8, 0,0,0], 3));
      fiveRightFront.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshfiveRightFront = new THREE.Mesh(fiveRightFront, materialLight);
      unit.add(meshfiveRightFront);

      const fiveRightTop = new THREE.BufferGeometry();
      fiveRightTop.setAttribute('position', new THREE.Float32BufferAttribute([-8,val,0, 0,val,-8, -8,16,0], 3));
      fiveRightTop.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshfiveRightTop = new THREE.Mesh(fiveRightTop, materialLight);
      unit.add(meshfiveRightTop);

      const fiveRightBottom = new THREE.BufferGeometry();
      fiveRightBottom.setAttribute('position', new THREE.Float32BufferAttribute([0,16,-8, 0,val,-8, -8,16,0,], 3));
      fiveRightBottom.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshfiveRightBottom = new THREE.Mesh(fiveRightBottom, materialLight);
      unit.add(meshfiveRightBottom);

      const fiveRightBack = new THREE.BufferGeometry();
      fiveRightBack.setAttribute('position', new THREE.Float32BufferAttribute([0,16,-8, 0,20,0, -8,16,0], 3));
      fiveRightBack.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshfiveRightBack = new THREE.Mesh(fiveRightBack, materialLight);
      unit.add(meshfiveRightBack);


      //////


      // Octant 6

      // Green Teal Blue

      const sixUpFront = new THREE.BufferGeometry();
      sixUpFront.setAttribute('position', new THREE.Float32BufferAttribute([0,-val,8, -8,-val,0, 0,0,0], 3));
      sixUpFront.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshsixUpFront = new THREE.Mesh(sixUpFront, materialLight);
      unit.add(meshsixUpFront);

      const sixTopLeft = new THREE.BufferGeometry();
      sixTopLeft.setAttribute('position', new THREE.Float32BufferAttribute([0,-val,8, -8,-val,0, 0,-16,8], 3));
      sixTopLeft.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshsixTopLeft = new THREE.Mesh(sixTopLeft, materialLight);
      unit.add(meshsixTopLeft);

      const sixTopRight = new THREE.BufferGeometry();
      sixTopRight.setAttribute('position', new THREE.Float32BufferAttribute([-8,-16,0, -8,-val,0, 0,-16,8,], 3));
      sixTopRight.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshsixTopRight = new THREE.Mesh(sixTopRight, materialLight);
      unit.add(meshsixTopRight);

      const sixTopBack = new THREE.BufferGeometry();
      sixTopBack.setAttribute('position', new THREE.Float32BufferAttribute([-8,-16,0, 0,-20,0, 0,-16,8,], 3));
      sixTopBack.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshsixTopBack = new THREE.Mesh(sixTopBack, materialLight);
      unit.add(meshsixTopBack);

      //----

      const sixDownFront = new THREE.BufferGeometry();
      sixDownFront.setAttribute('position', new THREE.Float32BufferAttribute([0,-val,-8, 8,-val,0, 0,0,0], 3));
      sixDownFront.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshsixDownFront = new THREE.Mesh(sixDownFront, materialLight);
      unit.add(meshsixDownFront);
      
      const sixDownLeft = new THREE.BufferGeometry();
      sixDownLeft.setAttribute('position', new THREE.Float32BufferAttribute([0,-val,-8, 8,-val,0, 0,-16,-8], 3));
      sixDownLeft.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshsixDownLeft = new THREE.Mesh(sixDownLeft, materialLight);
      unit.add(meshsixDownLeft);


      const sixDownRight = new THREE.BufferGeometry();
      sixDownRight.setAttribute('position', new THREE.Float32BufferAttribute([8,-16,0, 8,-val,0, 0,-16,-8,], 3));
      sixDownRight.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshsixDownRight = new THREE.Mesh(sixDownRight, materialLight);
      unit.add(meshsixDownRight);
      
      const sixDownBack = new THREE.BufferGeometry();
      sixDownBack.setAttribute('position', new THREE.Float32BufferAttribute([8,-16,0, 0,-20,0, 0,-16,-8,], 3));
      sixDownBack.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshsixDownBack = new THREE.Mesh(sixDownBack, materialLight);
      unit.add(meshsixDownBack);

      //---

      const sixLeftFront = new THREE.BufferGeometry();
      sixLeftFront.setAttribute('position', new THREE.Float32BufferAttribute([8,-val,0, 0,-val,8, 0,0,0], 3));
      sixLeftFront.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshsixLeftFront = new THREE.Mesh(sixLeftFront, materialLight);
      unit.add(meshsixLeftFront);

      const sixLeftTop = new THREE.BufferGeometry();
      sixLeftTop.setAttribute('position', new THREE.Float32BufferAttribute([8,-val,0, 0,-val,8, 8,-16,0], 3));
      sixLeftTop.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshsixLeftTop = new THREE.Mesh(sixLeftTop, materialLight);
      unit.add(meshsixLeftTop);


      const sixLeftBottom = new THREE.BufferGeometry();
      sixLeftBottom.setAttribute('position', new THREE.Float32BufferAttribute([0,-16,8, 0,-val,8, 8,-16,0,], 3));
      sixLeftBottom.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshsixLeftBottom = new THREE.Mesh(sixLeftBottom, materialLight);
      unit.add(meshsixLeftBottom);

      const sixLeftBack = new THREE.BufferGeometry();
      sixLeftBack.setAttribute('position', new THREE.Float32BufferAttribute([0,-16,8, 0,-20,0, 8,-16,0,], 3));
      sixLeftBack.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshsixLeftBack = new THREE.Mesh(sixLeftBack, materialLight);
      unit.add(meshsixLeftBack);

      // Right

      const sixRightFront = new THREE.BufferGeometry();
      sixRightFront.setAttribute('position', new THREE.Float32BufferAttribute([-8,-val,0, 0,-val,-8, 0,0,0], 3));
      sixRightFront.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshsixRightFront = new THREE.Mesh(sixRightFront, materialLight);
      unit.add(meshsixRightFront);

      const sixRightTop = new THREE.BufferGeometry();
      sixRightTop.setAttribute('position', new THREE.Float32BufferAttribute([-8,-val,0, 0,-val,-8, -8,-16,0], 3));
      sixRightTop.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshsixRightTop = new THREE.Mesh(sixRightTop, materialLight);
      unit.add(meshsixRightTop);

      const sixRightBottom = new THREE.BufferGeometry();
      sixRightBottom.setAttribute('position', new THREE.Float32BufferAttribute([0,-16,-8, 0,-val,-8, -8,-16,0,], 3));
      sixRightBottom.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshsixRightBottom = new THREE.Mesh(sixRightBottom, materialLight);
      unit.add(meshsixRightBottom);

      const sixRightBack = new THREE.BufferGeometry();
      sixRightBack.setAttribute('position', new THREE.Float32BufferAttribute([0,-16,-8, 0,-20,0, -8,-16,0], 3));
      sixRightBack.setAttribute('color', new THREE.Float32BufferAttribute(crystalColors, 3));
      const meshsixRightBack = new THREE.Mesh(sixRightBack, materialLight);
      unit.add(meshsixRightBack);




      scene.add(unit);

      /*const axesHelper = new THREE.AxesHelper( 50 );
      axesHelper.setColors('red','blue','green');
      scene.add( axesHelper );*/

      scene.background = new THREE.Color(0x000000);


      const lightColorHash = 0xFFFFFF;

      const light1 = new THREE.DirectionalLight(lightColorHash, 1);
      light1.position.set(-1, -1, -1)//.normalize();
      scene.add(light1);

      const light2 = new THREE.DirectionalLight(lightColorHash, 1);
      light2.position.set(1, 1, 1)//.normalize();
      scene.add(light2);


      const lightAmbient = new THREE.AmbientLight(lightColorHash,1 ); // soft white light
      scene.add( lightAmbient );
    }

    function onWindowResize() {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    }

    function animate() {
      requestAnimationFrame(animate);
      controls.update();
      render();
      //stats.update();
    }

      //unit.rotation.x -= 0.20;
      //axesHelper.rotation.y -= 1.75;
      //unit.rotation.y -= 1.75;
      //unit.rotation.z += 0.50;

    function render() {

      const time = Date.now() * 0.002;

      //unit.rotation.x = time * 0.15;
      unit.rotation.y = time * -0.25;
      //unit.rotation.z = time * 0.15;


      renderer.render(scene, camera);
    }

  </script>
</head>

<body>
</body>

</html>