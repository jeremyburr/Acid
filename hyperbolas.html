<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Acid</title>
  <link rel="shortcut icon" href="#">
  <style>
    body {
      margin: 0;
    }
  </style>

  <script src="./js/nerdamer/nerdamer.core.js"></script>
  <script src="./js/nerdamer/Algebra.js"></script>
  <script src="./js/nerdamer/Calculus.js"></script>
  <script src="./js/nerdamer/Solve.js"></script>
  <script src="./js/nerdamer/Extra.js"></script>


  <script type="module">
    import * as THREE from './js/three.module.js';
    import { TrackballControls } from './js/TrackballControls.js';
    import * as Axis from './js/shapes/axis.js';

    let camera, scene, renderer, controls;

    init();
    animate();

    function init() {
      scene = new THREE.Scene();
      camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 1, 3500);
      camera.position.x = 14;
      camera.position.y = 10;
      camera.position.z = 30;

      renderer = new THREE.WebGLRenderer({ antialias: true });
      renderer.setPixelRatio(window.devicePixelRatio);
      renderer.setSize(window.innerWidth, window.innerHeight);

      document.body.appendChild(renderer.domElement);
      controls = new TrackballControls(camera, renderer.domElement);

      window.addEventListener('resize', onWindowResize);

      scene.add(Axis.x);
      scene.add(Axis.y);
      scene.add(Axis.z);

      scene.background = new THREE.Color(0x050505);
      const light = new THREE.HemisphereLight();
      scene.add(light);

      console.log(nerdamer);

      //const x = nerdamer('solve(y=m*x+c, x)');
      //console.log(x.toString());

      let rightCurveVectors = [];

      for (let i = 5; i < 21; i++) {
        //console.log(i);
        const y = nerdamer(`solve( ${i}^2/25 - y^2/16 = 1 , y)`);
        console.log(y.toString());
        console.log(y.evaluate().toString());
        //console.log(parseInt(y.evaluate().toString()));
        //rightCurveVectors.push([i,y.toNu])
      }

      //const x = 6;

      //const y = nerdamer(`solve( ${x}^2/25 - y^2/16 = 1 , y)`);
      //console.log(y.toString());





      //Create a closed wavey loop
      const rightCurve = new THREE.CatmullRomCurve3([

        // upper right

        new THREE.Vector3(20, 15.49, 0),
        new THREE.Vector3(19, 14.66, 0),
        new THREE.Vector3(18, 13.83, 0),
        new THREE.Vector3(17, 12.99, 0),
        new THREE.Vector3(16, 12.15, 0),
        new THREE.Vector3(15, 11.31, 0),
        new THREE.Vector3(14, 10.46, 0),
        new THREE.Vector3(13, 9.6, 0),
        new THREE.Vector3(12, 8.72, 0),
        new THREE.Vector3(11, 7.83, 0),
        new THREE.Vector3(10, 6.92, 0),
        new THREE.Vector3(9.5, 6.46, 0),
        new THREE.Vector3(9, 5.98, 0),
        new THREE.Vector3(8.5, 5.49, 0),
        new THREE.Vector3(8.24, 5.24, 0),
        new THREE.Vector3(8, 4.99, 0),
        new THREE.Vector3(7.76, 4.74, 0),
        new THREE.Vector3(7.5, 4.47, 0),
        new THREE.Vector3(7.26, 4.21, 0),
        new THREE.Vector3(7, 3.91, 0),
        new THREE.Vector3(6.76, 3.64, 0),
        new THREE.Vector3(6.5, 3.32, 0),
        new THREE.Vector3(6.24, 2.98, 0),
        new THREE.Vector3(6, 2.65, 0),
        new THREE.Vector3(5.75, 2.27, 0),
        new THREE.Vector3(5.5, 1.83, 0),
        new THREE.Vector3(5.24, 1.25, 0),
        new THREE.Vector3(5, 0, 0),

        // lower right

        new THREE.Vector3(5.24, -1.25, 0),
        new THREE.Vector3(5.5, -1.83, 0),
        new THREE.Vector3(5.75, -2.27, 0),
        new THREE.Vector3(6, -2.65, 0),
        new THREE.Vector3(6.24, -2.98, 0),
        new THREE.Vector3(6.5, -3.32, 0),
        new THREE.Vector3(6.76, -3.64, 0),
        new THREE.Vector3(7, -3.91, 0),
        new THREE.Vector3(7.26, -4.21, 0),
        new THREE.Vector3(7.5, -4.47, 0),
        new THREE.Vector3(7.76, -4.74, 0),
        new THREE.Vector3(8, -4.99, 0),
        new THREE.Vector3(8.24, -5.24, 0),
        new THREE.Vector3(8.5, -5.49, 0),
        new THREE.Vector3(9, -5.98, 0),
        new THREE.Vector3(9.5, -6.46, 0),
        new THREE.Vector3(10, -6.92, 0),
        new THREE.Vector3(11, -7.83, 0),
        new THREE.Vector3(12, -8.72, 0),
        new THREE.Vector3(13, -9.6, 0),
        new THREE.Vector3(14, -10.46, 0),
        new THREE.Vector3(15, -11.31, 0),
        new THREE.Vector3(16, -12.15, 0),
        new THREE.Vector3(17, -12.99, 0),
        new THREE.Vector3(18, -13.83, 0),
        new THREE.Vector3(19, -14.66, 0),
        new THREE.Vector3(20, -15.49, 0),

        
      ]);

      const leftCurve = new THREE.CatmullRomCurve3([

        // upper left

        new THREE.Vector3(-20, 15.49, 0),
        new THREE.Vector3(-19, 14.66, 0),
        new THREE.Vector3(-18, 13.83, 0),
        new THREE.Vector3(-17, 12.99, 0),
        new THREE.Vector3(-16, 12.15, 0),
        new THREE.Vector3(-15, 11.31, 0),
        new THREE.Vector3(-14, 10.46, 0),
        new THREE.Vector3(-13, 9.6, 0),
        new THREE.Vector3(-12, 8.72, 0),
        new THREE.Vector3(-11, 7.83, 0),
        new THREE.Vector3(-10, 6.92, 0),
        new THREE.Vector3(-9.5, 6.46, 0),
        new THREE.Vector3(-9, 5.98, 0),
        new THREE.Vector3(-8.5, 5.49, 0),
        new THREE.Vector3(-8.24, 5.24, 0),
        new THREE.Vector3(-8, 4.99, 0),
        new THREE.Vector3(-7.76, 4.74, 0),
        new THREE.Vector3(-7.5, 4.47, 0),
        new THREE.Vector3(-7.26, 4.21, 0),
        new THREE.Vector3(-7, 3.91, 0),
        new THREE.Vector3(-6.76, 3.64, 0),
        new THREE.Vector3(-6.5, 3.32, 0),
        new THREE.Vector3(-6.24, 2.98, 0),
        new THREE.Vector3(-6, 2.65, 0),
        new THREE.Vector3(-5.75, 2.27, 0),
        new THREE.Vector3(-5.5, 1.83, 0),
        new THREE.Vector3(-5.24, 1.25, 0),
        new THREE.Vector3(-5, 0, 0),


        // lower left

        new THREE.Vector3(-5.24, -1.25, 0),
        new THREE.Vector3(-5.5, -1.83, 0),
        new THREE.Vector3(-5.75, -2.27, 0),
        new THREE.Vector3(-6, -2.65, 0),
        new THREE.Vector3(-6.24, -2.98, 0),
        new THREE.Vector3(-6.5, -3.32, 0),
        new THREE.Vector3(-6.76, -3.64, 0),
        new THREE.Vector3(-7, -3.91, 0),
        new THREE.Vector3(-7.26, -4.21, 0),
        new THREE.Vector3(-7.5, -4.47, 0),
        new THREE.Vector3(-7.76, -4.74, 0),
        new THREE.Vector3(-8, -4.99, 0),
        new THREE.Vector3(-8.24, -5.24, 0),
        new THREE.Vector3(-8.5, -5.49, 0),
        new THREE.Vector3(-9, -5.98, 0),
        new THREE.Vector3(-9.5, -6.46, 0),
        new THREE.Vector3(-10, -6.92, 0),
        new THREE.Vector3(-11, -7.83, 0),
        new THREE.Vector3(-12, -8.72, 0),
        new THREE.Vector3(-13, -9.6, 0),
        new THREE.Vector3(-14, -10.46, 0),
        new THREE.Vector3(-15, -11.31, 0),
        new THREE.Vector3(-16, -12.15, 0),
        new THREE.Vector3(-17, -12.99, 0),
        new THREE.Vector3(-18, -13.83, 0),
        new THREE.Vector3(-19, -14.66, 0),
        new THREE.Vector3(-20, -15.49, 0),

    ]);

      const rightPoints = rightCurve.getPoints(500);
      const rightGeometry = new THREE.BufferGeometry().setFromPoints(rightPoints);
      const rightMaterial = new THREE.LineBasicMaterial({ color: 0xff0000 });
      const rightCurveObject = new THREE.Line(rightGeometry, rightMaterial);

      scene.add(rightCurveObject);

      const leftPoints = leftCurve.getPoints(500);
      const leftGeometry = new THREE.BufferGeometry().setFromPoints(leftPoints);
      const leftMaterial = new THREE.LineBasicMaterial({ color: 0xff0000 });
      const leftCurveObject = new THREE.Line(leftGeometry, leftMaterial);

      scene.add(leftCurveObject);


      /*const material = new THREE.MeshPhongMaterial({
        side: THREE.DoubleSide,
        vertexColors: true
      });*/


    }

    function onWindowResize() {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    }

    function animate() {
      requestAnimationFrame(animate);
      controls.update();
      render();
      //stats.update();
    }

    function render() {

      const time = Date.now() * 0.002;

      /*mesh0.rotation.x = time * 0.5;
      mesh0.rotation.y = time * 0.5;
      mesh0.rotation.z = time * 0.5; */

      renderer.render(scene, camera);
    }

  </script>
</head>

<body>
</body>

</html>